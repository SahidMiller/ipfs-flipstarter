<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- -->
    <link href="../css/materialize.min.css" rel="stylesheet">
    <link href="../css/client.css" rel="stylesheet">
    <link href="../css/rte.css" rel="stylesheet">

    <!-- Website metadata -->
    <title>{{ title }}</title>
    
    <meta property="og:title" content="{{ title }}">
    <meta property="og:description" content="{{ shortDescription }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ url }}">
    <meta property="og:image" content="{{ image }}">
    <meta property="og:image:alt" content="Flipstarter logo image.">
    <meta property="og:article:section" content="Technology">
    <meta property="og:article:tag" content="Bitcoin">
    <meta property="og:article:tag" content="Bitcoin Cash">
    <meta property="og:article:tag" content="BCH">
    <meta property="og:article:tag" content="Fundraising">
  </head>
  <body class="clouds">
    <!-- Main content, header, sidebar and footer-->
    <div class="grass">
      <div class="background">
        <!-- Site header -->
        <header class="container row center">
          <h1 class="cols s12 m12 l12">
            <span id="campaignTitle">{{ title }}</span>
          </h1>
        </header>

        <!-- Site content -->
        <main class="container row z-depth-2">
          <!-- Campaign -->
          <article id="campaign" class="col s12 m12 l8">

            <!-- Campaign overview -->
            <section id="overview">
              <div id="timerContainer">
                <span class="valign-wrapper">
                  <i class="icon-access_time"></i>
                  <span id="timerLabel" data-string="expiresLabel">{{ timerLabel }}</span>
                  <b id="campaignExpiration">{{ timerDaysUntil }}</b>
                </span>
              </div>
              <div id="amountsContainer">
                <span class="valign-wrapper">
                  <i class="icon-bookmark_border"></i>
                  <span id="campaignContributionAmount">0.00</span>
                  <i>/</i>
                  <span id="campaignRequestAmount">{{ requestedAmount }}</span>
                  <b>BCH</b>
                </span>
              </div>
              <div class="progress">
                <div class="determinate" id="campaignProgressBar"></div>
                <div class="determinate" id="campaignContributionBar"></div>
              </div>
            </section>

            <!-- Campaign heading -->
            <header id="campaignAbstract">{{{ description }}}</header>

            <!-- Campaign donation form -->
            <fieldset id="donateField" class="row">
              <div id="donateStatus" class="col s12 m12 l12 hidden"></div>
              <div id="donateFormContainer">
                <div id="donateForm" class="col s12 m12 l12 hidden">
                  <div class="input-field col s1 m1 l1">
                    <i class="icon-attach_money money-icon"></i>
                  </div>
                  <div id="donationSliderContainer" class="input-field col s11 m5 l6">
                    <input type="range" min="0" max="100" value="0" step="0.20" class="slider" id="donationSlider">
                  </div>
                  <div id="donationButtonContainer" class="input-field col s12 m6 l5">
                    <button id="donateButton" class="btn waves-effect waves-light green" disabled="disabled">
                      <span id="donateText" data-string="donateText"></span>
                      <span id="donationAmount"></span>
                    </button>
                  </div>
                </div>

                <div id="providerSection" class="col s12 m12 hidden">
                  <div class="col">
                    <div class="col s12 m12 l12">
                      <div id="contributionDetailsContainer" class="row">
                        <div id="contributionNameContainer" class="input-field col s12 m12 l12">
                          <i class="icon icon-person_outline prefix"></i>
                          <input id="contributionName" type="text" maxlength="24">
                          <label for="contributionName" data-string="usernameLabel"></label>
                        </div>

                        <div id="contributionCommentContainer" class="input-field col s12 m12 l12">
                          <i class="icon icon-chat_bubble_outline prefix"></i>
                          <input id="contributionComment" type="text" maxlength="120">
                          <label for="contributionComment" data-string="commentLabel"></label>
                        </div>
                      </div>
                    </div>
                    <div class="provider-container col input-field l12 m12 s12">
                      <button id="signupDonateButton" class="btn waves-effect waves-light">
                        <span>Contribute using SignUp</span>
                      </button>
                    </div>
                    <div class="provider-container col input-field l12 m12 s12">
                      <button id="electrumDonateButton" class="btn waves-effect waves-light">
                        <span>Contribute using Electrum</span>
                      </button>
                    </div>
                  </div>
                </div>
                
                <div id="electrumSection" class="col s12 m12 hidden">
                  <div class="col">
                    <div class="col s12 m12 l3">
                      <small class="step-title" data-string="copyLabel"></small>
                      <textarea rows="5" id="template" name="template"></textarea>
                      <button id="copyTemplateButton" class="btn waves-effect waves-light green" data-string="copyButton"></button>
                    </div>
                    <div class="col s12 m12 l6">
                      <small class="step-title" data-string="instructionsLabel"></small>
                      <p id="instructions" data-string="instructions"></p>
                      <div id="instructionLinks">
                        <a id="downloadButton" class="btn" href="https://gitlab.com/flipstarter/flipstarter-electron-cash/uploads/ec6b5a7518801c4a278128ac4f296607/flipstarter-1.3.zip">
                          <i class="icon-download"></i>
                          <span data-string="downloadText"></span>
                        </a>
                        <a id="linkInstructionsButton" class="btn" target="_blank" href="https://read.cash/@flipstarter/how-to-support-a-flipstarter-campaign-f27240d9">
                          <i class="icon-info"></i>
                          <span data-string="instructionLink"></span>
                        </a>
                      </div>
                    </div>
                    <div class="col s12 m12 l3">
                      <small class="step-title" data-string="commitLabel"></small>
                      <textarea rows="5" id="commitment" name="commitment" data-placeholder="PasteHere"></textarea>
                      <button id="commitTransaction" class="btn waves-effect waves-light green" disabled="disabled" data-string="commitButton"></button>
                    </div>
                  </div>
                </div>
              </div>
            </fieldset>

            <!-- Campaign details. -->
            <section id="campaignDetails" class="row">{{{ details }}}</section>
          </article>

          <!-- Campaign sidebar -->
          <aside id="sidebar" class="col s12 m12 l4">
            <!-- Recipient List -->
            <section>
              <h3 id="recipientListHeader">
                <span class="valign-wrapper">
                  <i class="icon-face"></i>
                  <b id="campaignRecipientCount">{{ recipientCount }}</b>
                  <span data-string="recipientsLabel">{{ recipientsLabel }}</span>
                </span>
              </h3>
              <hr>
              <ul id="recipientList" class="row">
                {{#recipients}}
                <li class='col s6 m6 l12'>
                  <a href='{{url}}' target="_blank">
                    <img src='{{image}}' alt='{{name}}' />
                    <span>
                      <b>{{name}}</b>
                      <i title="{{amountInSatoshis}}">{{amountInBch}} BCH</i>
                    </span>
                  </a>
                </li>
                {{/recipients}}
              </ul>
            </section>
            
            <!-- Contribution List -->
            <section>
              <h3 id="contributionListHeader">
                <span class="valign-wrapper">
                  <i class="icon-favorite_border"></i>
                  <b id="campaignContributorCount">0</b>
                  <span data-string="contributorsLabel">{{ contributorsLabel }}</span>
                </span>
              </h3>
              <hr>
              <ul id="contributionList">
                <li class="emptyContributionMessage">
                  <i data-string="contributorEmpty1"></i>
                  <br>
                  <i data-string="contributorEmpty2"></i>
                </li>
              </ul>
          </section>
          </aside>
          
          <!-- Info links -->
          <ul id="info-links" class="col s10 m10 l10 push-s1 push-m1 push-l1">
            <li class="col">
              <a class="valign-wrapper" target="_blank" href="https://read.cash/@flipstarter/how-to-support-a-flipstarter-campaign-f27240d9">
                <i class="icon-info"></i>
                &nbsp;
                <span data-string="linkHowTo"></span>
              </a>
            </li>
            <li class="col">
              <a class="valign-wrapper" target="_blank" href="https://read.cash/@flipstarter/flipstarter-faq-66c56b03">
                <i class="icon-info"></i>
                &nbsp;
                <span data-string="linkFAQ"></span>
              </a>
            </li>
          </ul>
        </main>

        <footer class="center">
          <p>Powered by <a href="https://flipstarter.cash" target="_blank">Flipstarter</a></p>
        </footer>
      </div>
    </div>

    <!-- Language picker -->
    <div id="languageSelector" class="fixed-action-btn">
      <b id="currentLanguage" data-string="changeLanguage"></b>
      <a class="btn-floating btn-large green"><i class="large icon-translate"></i></a>
        <ul id="languageList">
          <li><a class="btn-floating purple darken-2" id="translateEnglish">En</a></li>
          <li><a class="btn-floating pink darken-2" id="translateChinese">Cn</a></li>
          <li><a class="btn-floating red darken-1" id="translateJapanese">Ja</a></li>
          <li><a class="btn-floating orange darken-2" id="translateSpanish">Es</a></li>
        </ul>
    </div>

    <!-- Templates -->
    <template id="recipientTemplate">
      <li class="col s6 m6 l12">
        <a>
          <img>
          <span>
            <b></b>
            <i></i>
          </span>
        </a>
      </li>
    </template>
    <template id="contributionTemplate">
      <li>
        <div>
          <div class="contributionWaves"></div>
          <div class="contributionDisplay"></div>
          <span class="contributionPercent"></span>
        </div>
        <span>
          <span>
            <b class="contributionAlias"></b>
            <small class="contributionAmount"></small>
          </span>
          <q class="contributionComment"></q>
        </span>
      </li>
    </template>
    <template id="emptyContributionMessage">
      <li class="emptyContributionMessage">
        <i data-string="contributorEmpty1"></i>
        <br>
        <i data-string="contributorEmpty2"></i>
      </li>
    </template>

    <!-- Assets -->
    <audio src="../snd/applause.mp3" id="applause"></audio>
  </body>
</html>
